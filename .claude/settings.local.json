{
  "permissions": {
    "allow": [
      "Bash(npm publish:*)",
      "Bash(gh pr create --title \"Add CLI version check on start command\" --body \"$(cat <<''EOF''\n## Summary\n- Add version check on `termly start` command to ensure users are running supported CLI version\n- Display error message with update instructions if version is outdated\n- Environment-aware package names (@termly-dev/cli, @termly-dev/cli-dev, @termly-dev/cli-local)\n\n## Changes\n- **New file:** `lib/utils/version-checker.js` - Version check logic with API call to server\n- **Modified:** `lib/commands/start.js` - Added version check as Step 1 before starting session\n- **Modified:** `package.json` & `package.dev.json` - Bumped version to 0.3.0\n- **Added dependency:** `semver` for version comparison\n\n## How it works\n1. On `termly start`, CLI calls `GET /api/cli/version?platform=node&currentVersion=X.X.X&package=@termly-dev/cli`\n2. Server responds with `{ minVersion, updateCommand }`\n3. If `currentVersion < minVersion` â†’ display error and exit\n4. If network error â†’ skip check silently (don''t block user)\n\n## Example output (when outdated)\n```\nâŒ ERROR: Termly CLI is outdated and no longer supported\n\n   Current version: 0.0.2\n   Minimum required: 0.3.0\n\n   Update now:\n   npm install -g @termly-dev/cli-dev@latest\n\nCannot start session with outdated version.\n```\n\n## Test plan\n- [x] Test version check passes with current version\n- [x] Test version check blocks with outdated version (mock server response)\n- [x] Test network error is handled gracefully\n- [x] Test local environment sends `@termly-dev/cli-local`\n- [x] Published `@termly-dev/cli-dev@0.3.0` to npm\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\")",
      "Bash(git rm:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git checkout:*)"
    ],
    "deny": [],
    "ask": []
  }
}